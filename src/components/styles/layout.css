/* ========================================
   layout.css - メインレイアウト
   ======================================== */

.mahjong-app {
  width: 100vw;
  height: 100vh;
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, #0f4c3a, #1a5c42);
  display: grid;
  grid-template-areas: 
    ". top-player ."
    "left-player center-info right-player"
    ". bottom-player .";
  grid-template-rows: 1fr 2fr 1fr;
  grid-template-columns: 120px 1fr 120px; /* 左右を固定幅に変更 */
  gap: var(--spacing-md);
  padding: var(--spacing-md);
  box-sizing: border-box;
  align-items: center;
  justify-items: center; /* 追加：水平中央揃え */
}

/* 各エリアの配置 */
.mahjong-app__top-half {
  grid-area: top-player;
  display: flex;
  justify-content: center;
  align-items: center;
}

.mahjong-app__bottom-half {
  grid-area: bottom-player;
  display: flex;
  justify-content: center;
  align-items: center;
}

.mahjong-app__center-info {
  grid-area: center-info;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--border-radius-xl);
  border: 3px solid var(--color-accent);
  padding: var(--spacing-xl);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow-lg);
  z-index: 10;
  width: 100%;
  max-width: 400px; /* 中央パネルの最大幅を制限 */
}

/* 左右プレイヤーの直接配置 - より確実な中央揃え */
.mahjong-app > .player-panel--left {
  grid-area: left-player;
  display: flex;
  justify-content: center;
  align-items: center;
}

.mahjong-app > .player-panel--right {
  grid-area: right-player;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* レスポンシブ調整 */
@media (max-width: 768px) {
  .mahjong-app {
    grid-template-rows: 1fr 1.5fr 1fr;
    grid-template-columns: 100px 1fr 100px; /* タブレット用調整 */
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
  }
  
  .mahjong-app__center-info {
    padding: var(--spacing-lg);
  }
}

@media (max-width: 480px) {
  .mahjong-app {
    grid-template-rows: minmax(60px, 0.8fr) 1.4fr minmax(60px, 0.8fr);
    grid-template-columns: 80px 1fr 80px; /* スマホ用により小さく */
    gap: var(--spacing-xs);
    padding: var(--spacing-xs);
    min-height: 100vh;
    max-height: 100vh;
  }
  
  .mahjong-app__center-info {
    max-width: none; /* スマホでは最大幅制限を解除 */
  }
}

@media (max-height: 600px) {
  .mahjong-app {
    grid-template-rows: minmax(50px, 0.7fr) 1.6fr minmax(50px, 0.7fr);
    grid-template-columns: 70px 1fr 70px; /* 低い画面用 */
    gap: 4px;
    padding: 4px;
  }
  
  .mahjong-app__center-info {
    padding: var(--spacing-md);
  }
}

/* 超小さい画面用の追加調整 */
@media (max-width: 480px) and (max-height: 700px) {
  .mahjong-app {
    grid-template-rows: minmax(50px, 0.75fr) 1.5fr minmax(50px, 0.75fr);
    grid-template-columns: 60px 1fr 60px; /* さらに小さく */
    gap: 2px;
    padding: 2px;
  }
  
  .mahjong-app__center-info {
    padding: var(--spacing-sm);
    border-width: 2px;
  }
}

/* 極小画面用（iPhone SE等）*/
@media (max-width: 380px) {
  .mahjong-app {
    grid-template-rows: minmax(45px, 0.7fr) 1.6fr minmax(45px, 0.7fr);
    grid-template-columns: 50px 1fr 50px; /* 極小サイズ */
    gap: 1px;
    padding: 1px;
  }
  
  .mahjong-app__center-info {
    padding: 6px;
    border-width: 1px;
  }
}